{"version":3,"sources":["serviceWorker.js","components/Table.js","components/Alert.js","utils/hooks/useQuery.js","utils/index.js","pages/AllMeals.js","components/Input.js","pages/Meal.js","pages/Category.js","pages/Consumption.js","components/Select.js","pages/NewMeal.js","pages/Upload.js","pages/EditMeal.js","pages/Ingredients.js","components/AuthProvider.js","components/Header.js","components/Navbar.js","components/Layout.js","components/ClientRoute.js","components/ManagerRoute.js","App.js","index.js"],"names":["Boolean","window","location","hostname","match","RowContext","React","createContext","Table","props","console","log","data","react_default","a","createElement","headers","map","header","i","key","length","row","Provider","value","children","Alert","_useState","useState","_useState2","Object","slicedToArray","setData","style","type","backgroundColor","useEffect","id","setTimeout","clearTimeout","objectSpread","position","left","top","width","textAlign","color","useQuery","url","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","fetch","credentials","then","res","json","findDiffrences","originalArr","newArr","removed","filter","includes","added","baseURL","AllMeals","useLocation","_useQuery","concat","setFilter","Fragment","onChange","e","preventDefault","byName","target","toLowerCase","meal","titleInEnglish","placeholder","react_router_dom","to","components_Table","AllMeals_TableRowData","components_Alert","state","TableRowData","useContext","titleInArabic","category","Input","defaultValue","setValue","label","name","min","quantity","unit","sold","totalQuantity","Meal","consumption","setConsumption","useParams","mealsData","onSubmit","from","components_Input","ingredients","Meal_TableRowData","Category","Category_TableRowData","Consumption","Consumption_TableRowData","Select","_ref","selected","options","field","optionObj","Form","ingredientsList","setIngredientsList","handleAddMeal","_ref3","className","components_Select","ingredientsData","onClick","toDeleteId","_ref2","toConsumableArray","NewMeal","_useQuery2","NewMeal_Form","ingredientsIds","FormData","getAll","method","Content-Type","body","JSON","stringify","mealId","ingredientId","resPromisesArr","Promise","all","catch","err","filename","dateFrom","dateTo","uploadedBy","Date","createdAt","toString","handleDeleteFile","Upload","formData","append","files","mode","response","newData","encType","Upload_TableRowData","fileId","updatedSheets","sheet","mealData","handleUpdateMeal","handleDeleteMeal","_ref5","_ref4","Math","floor","random","EditMeal","history","useHistory","asyncToGenerator","regenerator_default","mark","_callee","originalIngredientsIds","_findDiffrences","wrap","_context","prev","next","ingredient","t0","stop","_x","_x2","apply","this","arguments","_callee2","_context2","push","_x3","EditMeal_Form","Ingredients","handleAddIngredient","newIngredient","content-type","sent","t1","t2","t3","call","handleDeleteIngredient","Ingredients_TableRowData","UserContext","AuthProvider","user","setUser","userData","Header","textDecoration","username","role","href","Navbar","listStyle","Layout","components_Header","getFullYear","ClientRoute","rest","objectWithoutProperties","react_router","pathname","assign","render","App","basename","components_AuthProvider","components_Layout","exact","path","components_ClientRoute","pages_NewMeal","pages_EditMeal","ManagerRoute","pages_Meal","pages_Category","pages_Consumption","pages_Upload","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c843e6d1.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport const RowContext = React.createContext();\r\n\r\nconst Table = props => {\r\n\tconsole.log(props.data);\r\n\treturn (\r\n\t\t<table>\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t{props.headers.map((header, i) => (\r\n\t\t\t\t\t\t<th key={i}>{header}</th>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t{props.data.length ? (\r\n\t\t\t\t\tprops.data.map((row, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<RowContext.Provider key={i} value={row}>\r\n\t\t\t\t\t\t\t\t{props.children}\r\n\t\t\t\t\t\t\t</RowContext.Provider>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td>No content to show</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t)}\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t);\r\n};\r\n\r\nexport default Table;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nfunction Alert(props) {\r\n\tconst [data, setData] = useState(props.data);\r\n\tconsole.log(data);\r\n\r\n\tconst style =\r\n\t\tprops.type === \"error\"\r\n\t\t\t? {\r\n\t\t\t\t\tbackgroundColor: \"#da2121\"\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\tbackgroundColor: \"teal\"\r\n\t\t\t  };\r\n\r\n\tuseEffect(() => {\r\n\t\tconst id = setTimeout(() => {\r\n\t\t\tsetData(\"\");\r\n\t\t}, 3000);\r\n\t\treturn () => {\r\n\t\t\tclearTimeout(id);\r\n\t\t};\r\n\t}, [data]);\r\n\r\n\treturn (\r\n\t\t<div id=\"alert\">\r\n\t\t\t<h1\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: \"50vh\",\r\n\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\ttextAlign: \"center\",\r\n\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t...style\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{data}\r\n\t\t\t</h1>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Alert;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport default url => {\r\n\tconst [data, setData] = useState(null);\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [error, setError] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch(url, {\r\n\t\t\tcredentials: \"include\"\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(\r\n\t\t\t\tdata => {\r\n\t\t\t\t\tsetData(data);\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t},\r\n\t\t\t\terror => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetError(error);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t}, []);\r\n\r\n\treturn { data, loading, error, setData };\r\n};\r\n","export const extractUnique = (arrayOfObj, prop) =>\r\n\tarrayOfObj\r\n\t\t.reduce((acc, val) => {\r\n\t\t\tif (!acc.includes(val[prop])) {\r\n\t\t\t\tacc.push(val[prop]);\r\n\t\t\t}\r\n\t\t\treturn acc;\r\n\t\t}, [])\r\n\t\t.sort();\r\n\r\nexport const findDiffrences = (originalArr, newArr) => {\r\n\tconst removed = originalArr.filter(i => !newArr.includes(i));\r\n\tconst added = newArr.filter(i => !originalArr.includes(i));\r\n\treturn { removed, added };\r\n};\r\n\r\n// export const baseURL = \"https://f5ynm.sse.codesandbox.io\";\r\nexport const baseURL = \"http://localhost:4000\";\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nimport Table, { RowContext } from \"../components/Table\";\r\nimport Alert from \"../components/Alert\";\r\n\r\nimport useQuery from \"../utils/hooks/useQuery\";\r\nimport { baseURL } from \"../utils/index\";\r\n\r\nexport default props => {\r\n\tconst location = useLocation();\r\n\tconst { data, loading, error } = useQuery(`${baseURL}/meals`);\r\n\tconst [filter, setFilter] = useState([]);\r\n\r\n\tif (loading) {\r\n\t\treturn <div>Loading</div>;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn <div>Error</div>;\r\n\t}\r\n\r\n\tconst handleFilter = e => {\r\n\t\te.preventDefault();\r\n\t\tconst byName = e.target.value.toLowerCase();\r\n\t\tsetFilter(\r\n\t\t\tdata.filter(meal => meal.titleInEnglish.toLowerCase().includes(byName))\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>MENU</h1>\r\n\t\t\t<input onChange={handleFilter} placeholder=\"Search meals...\" />\r\n\t\t\t<button>\r\n\t\t\t\t<Link to=\"/menu/new\">Add new meal</Link>\r\n\t\t\t</button>\r\n\t\t\t<button>\r\n\t\t\t\t<Link to=\"/excelsheets/upload\">Upload Excel file</Link>\r\n\t\t\t</button>\r\n\t\t\t<Table\r\n\t\t\t\theaders={[\"Meal name\", \"اسم الوجبة\", \"Category\", \"Actions\"]}\r\n\t\t\t\tdata={filter.length ? filter : data}\r\n\t\t\t>\r\n\t\t\t\t<TableRowData />\r\n\t\t\t</Table>\r\n\t\t\t<Alert data={location.state} type=\"error\" />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst TableRowData = props => {\r\n\tconst row = useContext(RowContext);\r\n\treturn (\r\n\t\t<tr>\r\n\t\t\t<td>\r\n\t\t\t\t<Link to={`/menu/meals/${row.id}`}>{row.titleInEnglish}</Link>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t<Link to={`/menu/meals/${row.id}`}>{row.titleInArabic}</Link>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t<Link to={`/menu/category/${row.category}`}>{row.category}</Link>\r\n\t\t\t</td>\r\n\t\t\t<td>\r\n\t\t\t\t<Link to={`/menu/meals/${row.id}/edit/`}>Edit / Delete</Link>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t);\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nconst Input = props => {\r\n\tconst [value, setValue] = useState(props.defaultValue || \"\");\r\n\tconsole.log(props.defaultValue);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<label>{props.label}</label>\r\n\t\t\t<input\r\n\t\t\t\tname={props.name}\r\n\t\t\t\ttype={props.type}\r\n\t\t\t\tmin={props.min}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tonChange={e => setValue(e.target.value)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Input;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nimport Table, { RowContext } from \"../components/Table\";\r\nimport Input from \"../components/Input\";\r\n\r\nimport useQuery from \"../utils/hooks/useQuery\";\r\nimport { baseURL } from \"../utils/index\";\r\n\r\nconst Meal = props => {\r\n\tconst [consumption, setConsumption] = useState([]);\r\n\r\n\tconst { id } = useParams();\r\n\r\n\tconst { data: mealsData, loading, error } = useQuery(\r\n\t\t`${baseURL}/meals/${id}/ingredients`\r\n\t);\r\n\r\n\tif (loading) {\r\n\t\treturn <div>loading</div>;\r\n\t}\r\n\tif (error) {\r\n\t\treturn <div>error</div>;\r\n\t}\r\n\r\n\tconst handleFilter = e => {\r\n\t\te.preventDefault();\r\n\t\tconst from = e.target[\"from\"].value;\r\n\t\tconst to = e.target[\"to\"].value;\r\n\t\tfetch(\r\n\t\t\t`${baseURL}/excelsheets/consumption/meal/${mealsData.id}?from=${from}&to=${to}`,\r\n\t\t\t{ credentials: \"include\" }\r\n\t\t)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => setConsumption(data));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>\r\n\t\t\t\t{mealsData.titleInEnglish} {mealsData.titleInArabic}\r\n\t\t\t</h1>\r\n\t\t\t<form onSubmit={handleFilter}>\r\n\t\t\t\t<p>Consumption:</p>\r\n\t\t\t\t<Input label=\"From\" name=\"from\" type=\"date\" />\r\n\t\t\t\t<Input label=\"To\" name=\"to\" type=\"date\" />\r\n\t\t\t\t<button>Show</button>\r\n\t\t\t</form>\r\n\t\t\t<h2>Ingredients:</h2>\r\n\t\t\t<Table\r\n\t\t\t\theaders={[\r\n\t\t\t\t\t\"Ingredient in English\",\r\n\t\t\t\t\t\"Ingredient in Arabic\",\r\n\t\t\t\t\t\"Quantity per meal\",\r\n\t\t\t\t\t\"Sold\",\r\n\t\t\t\t\t\"Total material consumption\"\r\n\t\t\t\t]}\r\n\t\t\t\tdata={consumption.length ? consumption : mealsData.ingredients}\r\n\t\t\t>\r\n\t\t\t\t<TableRowData />\r\n\t\t\t</Table>\r\n\t\t\t<Link to=\"/menu/all\">Menu</Link>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst TableRowData = () => {\r\n\tconst row = useContext(RowContext);\r\n\treturn (\r\n\t\t<tr>\r\n\t\t\t<td>{row.titleInEnglish}</td>\r\n\t\t\t<td>{row.titleInArabic}</td>\r\n\t\t\t<td>\r\n\t\t\t\t{row.quantity} {row.unit}\r\n\t\t\t</td>\r\n\t\t\t<td>{row.sold}</td>\r\n\t\t\t<td>\r\n\t\t\t\t{row.totalQuantity} {row.unit}\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t);\r\n};\r\n\r\nexport default Meal;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nimport Table, { RowContext } from \"../components/Table\";\r\nimport Input from \"../components/Input\";\r\n\r\nimport { baseURL } from \"../utils/index\";\r\n\r\nconst Category = props => {\r\n\tconst [consumption, setConsumption] = useState([]);\r\n\r\n\tconst { category } = useParams();\r\n\r\n\tconst handleFilter = e => {\r\n\t\te.preventDefault();\r\n\t\tconst from = e.target[\"from\"].value;\r\n\t\tconst to = e.target[\"to\"].value;\r\n\t\tfetch(\r\n\t\t\t`${baseURL}/excelsheets/consumption/category/${category}?from=${from}&to=${to}`,\r\n\t\t\t{ credentials: \"include\" }\r\n\t\t)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => setConsumption(data));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Category: {category}</h1>\r\n\t\t\t<form onSubmit={handleFilter}>\r\n\t\t\t\t<p>Consumption:</p>\r\n\t\t\t\t<Input label=\"From\" name=\"from\" type=\"date\" />\r\n\t\t\t\t<Input label=\"To\" name=\"to\" type=\"date\" />\r\n\t\t\t\t<button>Show</button>\r\n\t\t\t</form>\r\n\t\t\t<Table\r\n\t\t\t\theaders={[\r\n\t\t\t\t\t\"Ingredient in English\",\r\n\t\t\t\t\t\"Ingredient in Arabic\",\r\n\t\t\t\t\t\"Total material consumption\"\r\n\t\t\t\t]}\r\n\t\t\t\tdata={consumption}\r\n\t\t\t>\r\n\t\t\t\t<TableRowData />\r\n\t\t\t</Table>\r\n\t\t\t<Link to=\"/menu/all\">Menu</Link>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst TableRowData = () => {\r\n\tconst row = useContext(RowContext);\r\n\treturn (\r\n\t\t<tr>\r\n\t\t\t<td>{row.titleInEnglish}</td>\r\n\t\t\t<td>{row.titleInArabic}</td>\r\n\t\t\t<td>\r\n\t\t\t\t{row.totalQuantity} {row.unit}\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t);\r\n};\r\n\r\nexport default Category;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Table, { RowContext } from \"../components/Table\";\r\nimport Input from \"../components/Input\";\r\n\r\nimport { baseURL } from \"../utils/index\";\r\n\r\nconst Consumption = props => {\r\n\tconst [consumption, setConsumption] = useState([]);\r\n\r\n\tconst handleFilter = e => {\r\n\t\te.preventDefault();\r\n\t\tconst from = e.target[\"from\"].value;\r\n\t\tconst to = e.target[\"to\"].value;\r\n\t\tfetch(`${baseURL}/excelsheets/consumption?from=${from}&to=${to}`, {\r\n\t\t\tcredentials: \"include\"\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => setConsumption(data));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Total Material Consumption</h1>\r\n\t\t\t<form onSubmit={handleFilter}>\r\n\t\t\t\t<p>Consumption:</p>\r\n\t\t\t\t<Input label=\"From\" name=\"from\" type=\"date\" />\r\n\t\t\t\t<Input label=\"To\" name=\"to\" type=\"date\" />\r\n\t\t\t\t<button>Show</button>\r\n\t\t\t</form>\r\n\t\t\t<Table\r\n\t\t\t\theaders={[\r\n\t\t\t\t\t\"Ingredient in English\",\r\n\t\t\t\t\t\"Ingredient in Arabic\",\r\n\t\t\t\t\t\"sold\",\r\n\t\t\t\t\t\"Total material consumption\"\r\n\t\t\t\t]}\r\n\t\t\t\tdata={consumption}\r\n\t\t\t>\r\n\t\t\t\t<TableRowData />\r\n\t\t\t</Table>\r\n\t\t\t<Link to=\"/menu/all\">Menu</Link>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst TableRowData = props => {\r\n\tconst row = useContext(RowContext);\r\n\treturn (\r\n\t\t<tr>\r\n\t\t\t<td>{row.titleInEnglish}</td>\r\n\t\t\t<td>{row.titleInArabic}</td>\r\n\t\t\t<td>{row.sold}</td>\r\n\t\t\t<td>\r\n\t\t\t\t{row.totalQuantity} {row.unit}\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t);\r\n};\r\n\r\nexport default Consumption;\r\n","import React, { useState } from \"react\";\r\n\r\nconst Select = ({ selected, options, field, label, name }) => {\r\n\tconst [value, setValue] = useState(selected);\r\n\r\n\tconsole.log(options);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<label>{label}</label>\r\n\t\t\t<select\r\n\t\t\t\tname={name}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tonChange={e => setValue(e.target.value)}\r\n\t\t\t>\r\n\t\t\t\t<option>Select one</option>\r\n\t\t\t\t{options.map(optionObj => (\r\n\t\t\t\t\t<option key={optionObj.id} value={optionObj.id}>\r\n\t\t\t\t\t\t{label === \"Ingredient\"\r\n\t\t\t\t\t\t\t? `${optionObj.quantity} ${optionObj.unit} ${optionObj.titleInEnglish} ${optionObj.titleInArabic}`\r\n\t\t\t\t\t\t\t: optionObj[field]}\r\n\t\t\t\t\t</option>\r\n\t\t\t\t))}\r\n\t\t\t</select>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Select;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Input from \"../components/Input\";\r\nimport Select from \"../components/Select\";\r\n\r\nimport useQuery from \"../utils/hooks/useQuery\";\r\nimport { baseURL } from \"../utils/index\";\r\n\r\nconst NewMeal = props => {\r\n\tconst { data: ingredientsData } = useQuery(`${baseURL}/ingredients`);\r\n\tconst { data: mealsData, loading, error } = useQuery(`${baseURL}/meals`);\r\n\r\n\tif (loading) {\r\n\t\treturn <div>loading</div>;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn <div>error</div>;\r\n\t}\r\n\r\n\tconst handleAddMeal = e => {\r\n\t\te.preventDefault();\r\n\t\tconst ingredientsIds = new FormData(e.target).getAll(\"ingredientType\");\r\n\t\tfetch(`${baseURL}/meals`, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t},\r\n\t\t\tcredentials: \"include\",\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttitleInEnglish: e.target[\"mealNameEn\"].value,\r\n\t\t\t\ttitleInArabic: e.target[\"mealNameAr\"].value,\r\n\t\t\t\tcategory: e.target[\"mealCategory\"].value\r\n\t\t\t})\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(({ id: mealId }) => {\r\n\t\t\t\treturn ingredientsIds.map(ingredientId => {\r\n\t\t\t\t\treturn fetch(\r\n\t\t\t\t\t\t`${baseURL}/meals/${mealId}/ingredients/${ingredientId}`,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmethod: \"PUT\",\r\n\t\t\t\t\t\t\tcredentials: \"include\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.then(resPromisesArr => {\r\n\t\t\t\treturn Promise.all(resPromisesArr);\r\n\t\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tconsole.log(\"TEMP: Meal added\");\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Form\r\n\t\t\t\tdata={{ mealsData, ingredientsData }}\r\n\t\t\t\thandleAddMeal={handleAddMeal}\r\n\t\t\t/>\r\n\t\t\t<Link to=\"/menu/all\">Menu</Link>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst Form = props => {\r\n\tconst [ingredientsList, setIngredientsList] = useState([{ id: 1 }]);\r\n\r\n\tconst handleDeleteIngredient = toDeleteId => {\r\n\t\tsetIngredientsList(ingredientsList.filter(({ id }) => id !== toDeleteId));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form onSubmit={props.handleAddMeal}>\r\n\t\t\t<h1>Add New Meal</h1>\r\n\t\t\t<Input name=\"mealNameEn\" label=\"Meal title\" defaultValue=\"\" />\r\n\t\t\t<Input name=\"mealNameAr\" label=\"أسم الوجبة\" defaultValue=\"\" />\r\n\t\t\t<Input name=\"mealCategory\" label=\"Category\" defaultValue=\"\" />\r\n\t\t\t<h2>Ingredients</h2>\r\n\t\t\t<div id=\"ingredients\">\r\n\t\t\t\t{ingredientsList.map(({ id }) => (\r\n\t\t\t\t\t<div key={id} className=\"ingredient\">\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tname=\"ingredientType\"\r\n\t\t\t\t\t\t\tlabel=\"Ingredient\"\r\n\t\t\t\t\t\t\toptions={props.data.ingredientsData}\r\n\t\t\t\t\t\t\tfield=\"titleInEnglish\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"delete\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tvalue=\"Delete ingredient\"\r\n\t\t\t\t\t\t\tonClick={e => handleDeleteIngredient(id)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t<input\r\n\t\t\t\tclassName=\"select-more\"\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tvalue=\"Select more ingredients\"\r\n\t\t\t\tonClick={e =>\r\n\t\t\t\t\tsetIngredientsList([...ingredientsList, { id: ingredientsList + 1 }])\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<button>\r\n\t\t\t\t<Link to=\"/menu/ingredients/new\">Don't find ingredient? Add one</Link>\r\n\t\t\t</button>\r\n\t\t\t<button className=\"submit\">Add meal</button>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default NewMeal;\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Table, { RowContext } from \"../components/Table\";\r\nimport Input from \"../components/Input\";\r\n\r\nimport useQuery from \"../utils/hooks/useQuery\";\r\nimport { baseURL } from \"../utils/index\";\r\n\r\nconst Upload = props => {\r\n\tconst { data, loading, error, setData } = useQuery(`${baseURL}/excelsheets`);\r\n\r\n\tif (loading) {\r\n\t\treturn <div>loading</div>;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn <div>error</div>;\r\n\t}\r\n\r\n\tconst handleUploadFile = e => {\r\n\t\te.preventDefault();\r\n\t\tvar formData = new FormData();\r\n\t\tformData.append(\"file\", e.target[\"uploadedFile\"].files[0]);\r\n\t\tfetch(`${baseURL}/excelsheets/`, {\r\n\t\t\tmode: \"cors\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tcredentials: \"include\",\r\n\t\t\tbody: formData\r\n\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then(newData => setData([...data, newData]))\r\n\t\t\t.catch(err => console.log(err));\r\n\t};\r\n\r\n\tconst handleDeleteFile = fileId => {\r\n\t\tconsole.log(fileId);\r\n\t\tfetch(`${baseURL}/excelsheets/${fileId}`, {\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t\tcredentials: \"include\"\r\n\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tconst updatedSheets = data.filter(sheet => sheet.id !== fileId);\r\n\t\t\t\tsetData(updatedSheets);\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Upload Excel Sheet</h1>\r\n\t\t\t<form onSubmit={handleUploadFile} encType=\"multipart/form-data\">\r\n\t\t\t\t<Input type=\"file\" name=\"uploadedFile\" />\r\n\t\t\t\t<button>Upload</button>\r\n\t\t\t</form>\r\n\t\t\t<h2>List of uploaded Excel sheets</h2>\r\n\t\t\t<Table\r\n\t\t\t\theaders={[\r\n\t\t\t\t\t\"File name\",\r\n\t\t\t\t\t\"from\",\r\n\t\t\t\t\t\"to\",\r\n\t\t\t\t\t\"Uploaded by\",\r\n\t\t\t\t\t\"Uploaded at\",\r\n\t\t\t\t\t\"Actions\"\r\n\t\t\t\t]}\r\n\t\t\t\tdata={data}\r\n\t\t\t>\r\n\t\t\t\t<TableRowData handleDeleteFile={handleDeleteFile} />\r\n\t\t\t</Table>\r\n\t\t\t<Link to=\"/menu/all\">Menu</Link>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst TableRowData = props => {\r\n\tconst row = useContext(RowContext);\r\n\treturn (\r\n\t\t<tr>\r\n\t\t\t<td>{row.filename}</td>\r\n\t\t\t<td>{row.dateFrom}</td>\r\n\t\t\t<td>{row.dateTo}</td>\r\n\t\t\t<td>{row.uploadedBy}</td>\r\n\t\t\t<td>{new Date(row.createdAt).toString()}</td>\r\n\t\t\t<td>\r\n\t\t\t\t<button onClick={() => props.handleDeleteFile(row.id)}>\r\n\t\t\t\t\tDelete File\r\n\t\t\t\t</button>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t);\r\n};\r\n\r\nexport default Upload;\r\n","import React, { useState } from \"react\";\r\nimport { Link, useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport Input from \"../components/Input\";\r\nimport Select from \"../components/Select\";\r\n\r\nimport useQuery from \"../utils/hooks/useQuery\";\r\nimport { baseURL, findDiffrences } from \"../utils/index\";\r\n\r\nconst EditMeal = props => {\r\n\tconst { id } = useParams();\r\n\tconst history = useHistory();\r\n\r\n\tconst { data: ingredientsData } = useQuery(`${baseURL}/ingredients`);\r\n\tconst { data: mealData, loading, error } = useQuery(\r\n\t\t`${baseURL}/meals/${id}/ingredients`\r\n\t);\r\n\r\n\tif (loading) {\r\n\t\treturn <div>loading</div>;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn <div>error</div>;\r\n\t}\r\n\r\n\tconst handleUpdateMeal = async (e, mealId) => {\r\n\t\ttry {\r\n\t\t\te.preventDefault();\r\n\t\t\tconst ingredientsIds = new FormData(e.target).getAll(\"ingredientType\");\r\n\t\t\tconst originalIngredientsIds = mealData.ingredients.map(\r\n\t\t\t\tingredient => ingredient.id\r\n\t\t\t);\r\n\t\t\tconst { added, removed } = findDiffrences(\r\n\t\t\t\toriginalIngredientsIds,\r\n\t\t\t\tingredientsIds\r\n\t\t\t);\r\n\t\t\tconsole.log(\"added: \", added, \"removed: \", removed);\r\n\t\t\tawait fetch(`${baseURL}/meals/${mealId}`, {\r\n\t\t\t\tmethod: \"PUT\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\ttitleInEnglish: e.target[\"mealNameEn\"].value,\r\n\t\t\t\t\ttitleInArabic: e.target[\"mealNameAr\"].value,\r\n\t\t\t\t\tcategory: e.target[\"mealCategory\"].value\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tawait Promise.all(\r\n\t\t\t\tadded.map(ingredientId => {\r\n\t\t\t\t\treturn fetch(\r\n\t\t\t\t\t\t`${baseURL}/meals/${mealId}/ingredients/${ingredientId}`,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmethod: \"PUT\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tawait Promise.all(\r\n\t\t\t\tremoved.map(ingredientId => {\r\n\t\t\t\t\treturn fetch(`${baseURL}/meals/${id}/ingredients/${ingredientId}`, {\r\n\t\t\t\t\t\tmethod: \"DELETE\"\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tconsole.log(\"SNACK BAR: Meal updated\");\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(\"SNACK BAR: Meal didn't update\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleDeleteMeal = async mealId => {\r\n\t\tawait fetch(`${baseURL}/meals/${mealId}`, {\r\n\t\t\tmethod: \"DELETE\"\r\n\t\t});\r\n\t\thistory.push(\"/menu/all\");\r\n\t\tconsole.log(\"SNACK BAR: Meal deleted\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Form\r\n\t\t\t\tmealData={mealData}\r\n\t\t\t\tingredientsData={ingredientsData}\r\n\t\t\t\thandleUpdateMeal={handleUpdateMeal}\r\n\t\t\t\thandleDeleteMeal={handleDeleteMeal}\r\n\t\t\t/>\r\n\t\t\t<Link to=\"/menu/all\">Menu</Link>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst Form = ({\r\n\tmealData,\r\n\tingredientsData,\r\n\thandleUpdateMeal,\r\n\thandleDeleteMeal\r\n}) => {\r\n\tconst [ingredientsList, setIngredientsList] = useState(mealData.ingredients);\r\n\r\n\tconst handleSelectMoreIngredients = () => {\r\n\t\tsetIngredientsList(\r\n\t\t\tingredientsList.concat({\r\n\t\t\t\tid: Math.floor(Math.random() * 1000000)\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\tconst handleDeleteIngredient = ingredientId => {\r\n\t\tsetIngredientsList(ingredientsList.filter(({ id }) => id !== ingredientId));\r\n\t\tconsole.log(`SNACKBAR: Deleted`);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form onSubmit={e => handleUpdateMeal(e, mealData.id)}>\r\n\t\t\t<h1>Edit / Delete {mealData.titleInEnglish} Meal</h1>\r\n\r\n\t\t\t<Input\r\n\t\t\t\tname=\"mealNameEn\"\r\n\t\t\t\tlabel=\"Meal title\"\r\n\t\t\t\tdefaultValue={mealData.titleInEnglish}\r\n\t\t\t/>\r\n\t\t\t<Input\r\n\t\t\t\tname=\"mealNameAr\"\r\n\t\t\t\tlabel=\"أسم الوجبة\"\r\n\t\t\t\tdefaultValue={mealData.titleInArabic}\r\n\t\t\t/>\r\n\t\t\t<Input\r\n\t\t\t\tname=\"mealCategory\"\r\n\t\t\t\tlabel=\"Category\"\r\n\t\t\t\tdefaultValue={mealData.category}\r\n\t\t\t/>\r\n\t\t\t<h2>Ingredients</h2>\r\n\t\t\t<div id=\"ingredients\">\r\n\t\t\t\t{ingredientsList.map(({ id }) => (\r\n\t\t\t\t\t<div key={id} className=\"ingredient\">\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tname=\"ingredientType\"\r\n\t\t\t\t\t\t\tlabel=\"Ingredient\"\r\n\t\t\t\t\t\t\toptions={ingredientsData}\r\n\t\t\t\t\t\t\tfield=\"titleInEnglish\"\r\n\t\t\t\t\t\t\tselected={id}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"delete\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tvalue=\"Delete ingredient\"\r\n\t\t\t\t\t\t\tonClick={e => handleDeleteIngredient(id)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t<input\r\n\t\t\t\tclassName=\"select-more\"\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tvalue=\"Select more ingredients\"\r\n\t\t\t\tonClick={handleSelectMoreIngredients}\r\n\t\t\t/>\r\n\t\t\t<button>\r\n\t\t\t\t<Link to=\"/menu/ingredients/new\">Don't find ingredient? Add one</Link>\r\n\t\t\t</button>\r\n\t\t\t<button className=\"submit\">Update meal</button>\r\n\t\t\t<input\r\n\t\t\t\tclassName=\"delete delete-meal\"\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tvalue=\"Delete meal\"\r\n\t\t\t\tonClick={e => handleDeleteMeal(mealData.id)}\r\n\t\t\t/>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default EditMeal;\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Input from \"../components/Input\";\r\nimport Table, { RowContext } from \"../components/Table\";\r\n\r\nimport { baseURL } from \"../utils/index\";\r\nimport useQuery from \"../utils/hooks/useQuery\";\r\n\r\nexport default function Ingredients() {\r\n\tconst { data: ingredientsData, loading, error, setData } = useQuery(\r\n\t\t`${baseURL}/ingredients`\r\n\t);\r\n\r\n\tif (loading) {\r\n\t\treturn <div>loading</div>;\r\n\t}\r\n\r\n\tif (error) {\r\n\t\treturn <div>error</div>;\r\n\t}\r\n\r\n\tconst handleAddIngredient = async e => {\r\n\t\te.preventDefault();\r\n\t\tconst newIngredient = await fetch(`${baseURL}/ingredients`, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tcredentials: \"include\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"content-type\": \"application/json\"\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttitleInEnglish: e.target[\"titleInEnglish\"].value,\r\n\t\t\t\ttitleInArabic: e.target[\"titleInArabic\"].value,\r\n\t\t\t\tunit: e.target[\"unit\"].value,\r\n\t\t\t\tquantity: e.target[\"quantity\"].value\r\n\t\t\t})\r\n\t\t});\r\n\t\tsetData(ingredientsData.concat(await newIngredient.json()));\r\n\t\tconsole.log(\"SNACK BAR: Ingredient Added\");\r\n\t};\r\n\r\n\tconst handleDeleteIngredient = async ingredientId => {\r\n\t\tawait fetch(`${baseURL}/ingredients/${ingredientId}`, {\r\n\t\t\tmethod: \"DELETE\"\r\n\t\t});\r\n\t\tsetData(ingredientsData.filter(({ id }) => id !== ingredientId));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<form onSubmit={handleAddIngredient}>\r\n\t\t\t\t<h1>Add Ingredient</h1>\r\n\t\t\t\t<Input name=\"titleInEnglish\" label=\"Ingredient title\" />\r\n\t\t\t\t<Input name=\"titleInArabic\" label=\"أسم المكون\" />\r\n\t\t\t\t<Input name=\"quantity\" type=\"number\" min=\"0\" label=\"Quantity\" />\r\n\t\t\t\t<Input name=\"unit\" label=\"Unit\" />\r\n\t\t\t\t<button className=\"submit\">Add</button>\r\n\t\t\t</form>\r\n\t\t\t<h2>List of All Ingredients</h2>\r\n\t\t\t<Table\r\n\t\t\t\theaders={[\r\n\t\t\t\t\t\"Ingredient title\",\r\n\t\t\t\t\t\"أسم المكون\",\r\n\t\t\t\t\t\"Quantiy\",\r\n\t\t\t\t\t\"Unit\",\r\n\t\t\t\t\t\"Actions\"\r\n\t\t\t\t]}\r\n\t\t\t\tdata={ingredientsData}\r\n\t\t\t>\r\n\t\t\t\t<TableRowData handleDeleteIngredient={handleDeleteIngredient} />\r\n\t\t\t</Table>\r\n\t\t\t<Link to=\"/menu/all\">Menu</Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst TableRowData = ({ handleDeleteIngredient }) => {\r\n\tconst row = useContext(RowContext);\r\n\treturn (\r\n\t\t<tr>\r\n\t\t\t<td>{row.titleInEnglish}</td>\r\n\t\t\t<td>{row.titleInArabic}</td>\r\n\t\t\t<td>{row.quantity}</td>\r\n\t\t\t<td>{row.unit}</td>\r\n\t\t\t<td>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"delete\"\r\n\t\t\t\t\tonClick={e => handleDeleteIngredient(row.id)}\r\n\t\t\t\t>\r\n\t\t\t\t\tDelete\r\n\t\t\t\t</button>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t);\r\n};\r\n","import React, { createContext, useState, useEffect } from \"react\";\r\n\r\nimport { baseURL } from \"../utils/index\";\r\nexport const UserContext = createContext({});\r\n\r\nfunction AuthProvider({ children }) {\r\n\tconst [user, setUser] = useState({});\r\n\tconsole.log(user);\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch(`${baseURL}/users`, {\r\n\t\t\tcredentials: \"include\"\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(userData => {\r\n\t\t\t\tconsole.log(userData);\r\n\t\t\t\tsetUser(userData);\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err));\r\n\t}, []);\r\n\r\n\treturn <UserContext.Provider value={user}>{children}</UserContext.Provider>;\r\n}\r\n\r\nexport default AuthProvider;\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { UserContext } from \"./AuthProvider\";\r\nimport { baseURL } from \"../utils\";\r\n\r\nimport \"./styles/header.css\";\r\n\r\nconst Header = () => {\r\n\tconst user = useContext(UserContext);\r\n\r\n\tconst handleLogout = () => {\r\n\t\tfetch(`${baseURL}/users/logout`).catch(err => console.log(err));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<h1>\r\n\t\t\t\t<Link\r\n\t\t\t\t\tto=\"/\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tcolor: `white`,\r\n\t\t\t\t\t\ttextDecoration: `none`\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tحساب استهلاك اطباق\r\n\t\t\t\t</Link>\r\n\t\t\t</h1>\r\n\t\t\t{user ? (\r\n\t\t\t\t<span>\r\n\t\t\t\t\t{user.username}\r\n\t\t\t\t\t<span>Logged in as {user.role}</span>\r\n\t\t\t\t\t<button onClick={handleLogout}>Logout</button>\r\n\t\t\t\t</span>\r\n\t\t\t) : (\r\n\t\t\t\t<a href={`${baseURL}/users/login`}>Login</a>\r\n\t\t\t)}\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { UserContext } from \"./AuthProvider\";\r\n\r\nexport default function Navbar() {\r\n\tconst user = useContext(UserContext);\r\n\r\n\treturn (\r\n\t\t<nav>\r\n\t\t\t<ul style={{ listStyle: \"none\" }}>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<Link to=\"/menu/all\">All Meals</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t{user.role !== \"Manager\" && (\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Link to=\"/menu/ingredients\">All Ingredients</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}\r\n\t\t\t\t{user.role !== \"Manager\" && (\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Link to=\"/menu/new\">Add Meal</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}\r\n\t\t\t\t{user.role !== \"Client\" && (\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Link to=\"/menu/consumption\">Total Consumption</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}\r\n\t\t\t\t{user.role !== \"Client\" && (\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Link to=\"/excelsheets/upload\">Upload Excel file</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Header from \"./Header\";\r\nimport Navbar from \"./Navbar\";\r\n\r\nimport \"./styles/Layout.css\";\r\n\r\nconst Layout = ({ children }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Header />\r\n\t\t\t<div id=\"app\">\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<main>{children}</main>\r\n\t\t\t</div>\r\n\t\t\t<footer>\r\n\t\t\t\t<div>© {new Date().getFullYear()}, Built by 4EGA</div>\r\n\t\t\t</footer>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nLayout.propTypes = {\r\n\tchildren: PropTypes.node.isRequired\r\n};\r\n\r\nexport default Layout;\r\n","import React, { useContext } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { UserContext } from \"./AuthProvider\";\r\n\r\nconst ClientRoute = ({ children, ...rest }) => {\r\n\tconst user = useContext(UserContext);\r\n\r\n\treturn user && (user.role === \"Client\" || user.role === \"Admin\") ? (\r\n\t\t<Route {...rest} render={props => children} />\r\n\t) : (\r\n\t\t<Redirect\r\n\t\t\tto={{\r\n\t\t\t\tpathname: \"/menu/all\",\r\n\t\t\t\tstate: \"You are not allowed to access this data\"\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default ClientRoute;\r\n","import React, { useContext } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { UserContext } from \"./AuthProvider\";\r\n\r\nconst ClientRoute = ({ children, ...rest }) => {\r\n\tconst user = useContext(UserContext);\r\n\r\n\treturn user && (user.role === \"Manager\" || user.role === \"Admin\") ? (\r\n\t\t<Route {...rest} render={props => children} />\r\n\t) : (\r\n\t\t<Redirect\r\n\t\t\tto={{\r\n\t\t\t\tpathname: \"/menu/all\",\r\n\t\t\t\tstate: \"You are not allowed to access this data\"\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default ClientRoute;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nimport AllMeals from \"./pages/AllMeals\";\r\nimport Meal from \"./pages/Meal\";\r\nimport Category from \"./pages/Category\";\r\nimport Consumption from \"./pages/Consumption\";\r\nimport NewMeal from \"./pages/NewMeal\";\r\nimport Upload from \"./pages/Upload\";\r\nimport EditMeal from \"./pages/EditMeal\";\r\nimport Ingredients from \"./pages/Ingredients\";\r\n\r\nimport Layout from \"./components/Layout\";\r\nimport AuthProvider from \"./components/AuthProvider\";\r\nimport ClientRoute from \"./components/ClientRoute\";\r\nimport ManagerRoute from \"./components/ManagerRoute\";\r\n\r\nimport \"./App.css\";\r\n\r\nconst App = props => {\r\n\treturn (\r\n\t\t<Router basename=\"/app\">\r\n\t\t\t<AuthProvider>\r\n\t\t\t\t<Layout>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path=\"/app\" children={<App />} />\r\n\t\t\t\t\t\t<Route path=\"/menu/all\" children={<AllMeals />} />\r\n\t\t\t\t\t\t<ClientRoute path=\"/menu/new\">\r\n\t\t\t\t\t\t\t<NewMeal />\r\n\t\t\t\t\t\t</ClientRoute>\r\n\t\t\t\t\t\t<ClientRoute path=\"/menu/meals/:id/edit\">\r\n\t\t\t\t\t\t\t<EditMeal />\r\n\t\t\t\t\t\t</ClientRoute>\r\n\t\t\t\t\t\t<ClientRoute path=\"/menu/ingredients\">\r\n\t\t\t\t\t\t\t<Ingredients />\r\n\t\t\t\t\t\t</ClientRoute>\r\n\t\t\t\t\t\t<ManagerRoute path=\"/menu/meals/:id\">\r\n\t\t\t\t\t\t\t<Meal />\r\n\t\t\t\t\t\t</ManagerRoute>\r\n\t\t\t\t\t\t<ManagerRoute path=\"/menu/category/:category\">\r\n\t\t\t\t\t\t\t<Category />\r\n\t\t\t\t\t\t</ManagerRoute>\r\n\t\t\t\t\t\t<ManagerRoute path=\"/menu/consumption\">\r\n\t\t\t\t\t\t\t<Consumption />\r\n\t\t\t\t\t\t</ManagerRoute>\r\n\t\t\t\t\t\t<ManagerRoute path=\"/excelsheets/upload\">\r\n\t\t\t\t\t\t\t<Upload />\r\n\t\t\t\t\t\t</ManagerRoute>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Layout>\r\n\t\t\t</AuthProvider>\r\n\t\t</Router>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"./index.css\";\r\n\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}